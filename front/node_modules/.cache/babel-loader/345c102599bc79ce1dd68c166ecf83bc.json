{"ast":null,"code":"export const ADD_TO_CART = 'ADD_TO_CART';\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const addToCart = book => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice();\n\n  if (cartItems.length === 0) {\n    cartItems.push({ ...book,\n      count: 0\n    });\n  } else {\n    cartItems.forEach(item => {\n      if (item.id === book.id) {\n        console.log(item.id, book.id);\n      } else {\n        cartItems.push({ ...book,\n          count: 0\n        });\n      }\n    });\n  } // else {\n  // \tcartItems.forEach\n  // }\n  // cartItems.forEach((item) => console.log(item))\n\n\n  dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(cartItems));\n};\nexport const removeFromCart = book => (dispatch, getState) => {\n  const cartItems = getState().cart.cartItems.slice().filter(item => item._id !== book._id);\n  dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(cartItems));\n};","map":{"version":3,"sources":["/home/mgapinska/Dokumenty/books-shop-app/src/redux/cart/cart.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","book","dispatch","getState","cartItems","cart","slice","length","push","count","forEach","item","id","console","log","type","payload","localStorage","setItem","JSON","stringify","removeFromCart","filter","_id"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAU,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC1D,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAhB,CAA0BE,KAA1B,EAAlB;;AACA,MAAIF,SAAS,CAACG,MAAV,KAAqB,CAAzB,EAA4B;AAC3BH,IAAAA,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGP,IAAL;AAAWQ,MAAAA,KAAK,EAAE;AAAlB,KAAf;AACA,GAFD,MAEO;AACNL,IAAAA,SAAS,CAACM,OAAV,CAAmBC,IAAD,IAAU;AAC3B,UAAIA,IAAI,CAACC,EAAL,KAAYX,IAAI,CAACW,EAArB,EAAyB;AACxBC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,EAAjB,EAAqBX,IAAI,CAACW,EAA1B;AACA,OAFD,MAEO;AACNR,QAAAA,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGP,IAAL;AAAWQ,UAAAA,KAAK,EAAE;AAAlB,SAAf;AACA;AACD,KAND;AAOA,GAZyD,CAa1D;AACA;AACA;AACA;;;AAEAP,EAAAA,QAAQ,CAAC;AACRa,IAAAA,IAAI,EAAEjB,WADE;AAERkB,IAAAA,OAAO,EAAE;AACRZ,MAAAA;AADQ;AAFD,GAAD,CAAR;AAMAa,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAehB,SAAf,CAAlC;AACA,CAzBM;AA2BP,OAAO,MAAMiB,cAAc,GAAIpB,IAAD,IAAU,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC/D,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAhB,CAA0BE,KAA1B,GAAkCgB,MAAlC,CAA0CX,IAAD,IAAUA,IAAI,CAACY,GAAL,KAAatB,IAAI,CAACsB,GAArE,CAAlB;AACArB,EAAAA,QAAQ,CAAC;AACRa,IAAAA,IAAI,EAAEhB,gBADE;AAERiB,IAAAA,OAAO,EAAE;AACRZ,MAAAA;AADQ;AAFD,GAAD,CAAR;AAMAa,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAehB,SAAf,CAAlC;AACA,CATM","sourcesContent":["export const ADD_TO_CART = 'ADD_TO_CART'\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART'\n\nexport const addToCart = (book) => (dispatch, getState) => {\n\tconst cartItems = getState().cart.cartItems.slice()\n\tif (cartItems.length === 0) {\n\t\tcartItems.push({ ...book, count: 0 })\n\t} else {\n\t\tcartItems.forEach((item) => {\n\t\t\tif (item.id === book.id) {\n\t\t\t\tconsole.log(item.id, book.id)\n\t\t\t} else {\n\t\t\t\tcartItems.push({ ...book, count: 0 })\n\t\t\t}\n\t\t})\n\t}\n\t// else {\n\t// \tcartItems.forEach\n\t// }\n\t// cartItems.forEach((item) => console.log(item))\n\n\tdispatch({\n\t\ttype: ADD_TO_CART,\n\t\tpayload: {\n\t\t\tcartItems\n\t\t}\n\t})\n\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems))\n}\n\nexport const removeFromCart = (book) => (dispatch, getState) => {\n\tconst cartItems = getState().cart.cartItems.slice().filter((item) => item._id !== book._id)\n\tdispatch({\n\t\ttype: REMOVE_FROM_CART,\n\t\tpayload: {\n\t\t\tcartItems\n\t\t}\n\t})\n\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems))\n}\n"]},"metadata":{},"sourceType":"module"}