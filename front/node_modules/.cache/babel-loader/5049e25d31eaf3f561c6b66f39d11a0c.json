{"ast":null,"code":"export const ADD_TO_CART = 'ADD_TO_CART';\nexport const addToCart = book => getState => {\n  const cartItems = getState().cart.cartItems.slice();\n  const addItem = cartItems.push({ ...book,\n    count: 1\n  });\n  let alreadyInCart = false;\n\n  if (cartItems) {\n    cartItems.forEach(item => {\n      if (item.id === book.id) {\n        alreadyInCart = true;\n        item.count++;\n      }\n    });\n\n    if (!alreadyInCart) {\n      addItem();\n    }\n  } else {\n    cartItems.push({ ...book,\n      count: 1\n    });\n  } // cartItems.forEach((item) => {\n  // \tlet alreadyInCart = false\n  // \tif (item.id === book.id) {\n  // \t\talreadyInCart = true\n  // \t\titem.count++\n  // \t\tconsole.log('1' + cartItems)\n  // \t} else if (!alreadyInCart) {\n  // \t\tcartItems.push({ ...book, count: 1 })\n  // \t\tconsole.log(cartItems)\n  // \t}\n  // })\n\n\n  cartItems.push({ ...book,\n    count: 1\n  });\n  console.log(cartItems);\n  return {\n    type: ADD_TO_CART,\n    payload: cartItems\n  };\n};","map":{"version":3,"sources":["/home/mgapinska/Dokumenty/books-shop-app/src/redux/cart/cart.js"],"names":["ADD_TO_CART","addToCart","book","getState","cartItems","cart","slice","addItem","push","count","alreadyInCart","forEach","item","id","console","log","type","payload"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,aAApB;AAEP,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAWC,QAAD,IAAc;AAChD,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAhB,CAA0BE,KAA1B,EAAlB;AACA,QAAMC,OAAO,GAAGH,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGN,IAAL;AAAWO,IAAAA,KAAK,EAAE;AAAlB,GAAf,CAAhB;AACA,MAAIC,aAAa,GAAG,KAApB;;AACA,MAAIN,SAAJ,EAAe;AACdA,IAAAA,SAAS,CAACO,OAAV,CAAmBC,IAAD,IAAU;AAC3B,UAAIA,IAAI,CAACC,EAAL,KAAYX,IAAI,CAACW,EAArB,EAAyB;AACxBH,QAAAA,aAAa,GAAG,IAAhB;AACAE,QAAAA,IAAI,CAACH,KAAL;AACA;AACD,KALD;;AAMA,QAAI,CAACC,aAAL,EAAoB;AACnBH,MAAAA,OAAO;AACP;AACD,GAVD,MAUO;AACNH,IAAAA,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGN,IAAL;AAAWO,MAAAA,KAAK,EAAE;AAAlB,KAAf;AACA,GAhB+C,CAkBhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAL,EAAAA,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGN,IAAL;AAAWO,IAAAA,KAAK,EAAE;AAAlB,GAAf;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYX,SAAZ;AACA,SAAO;AACNY,IAAAA,IAAI,EAAEhB,WADA;AAENiB,IAAAA,OAAO,EAAEb;AAFH,GAAP;AAIA,CAnCM","sourcesContent":["export const ADD_TO_CART = 'ADD_TO_CART'\n\nexport const addToCart = (book) => (getState) => {\n\tconst cartItems = getState().cart.cartItems.slice()\n\tconst addItem = cartItems.push({ ...book, count: 1 })\n\tlet alreadyInCart = false\n\tif (cartItems) {\n\t\tcartItems.forEach((item) => {\n\t\t\tif (item.id === book.id) {\n\t\t\t\talreadyInCart = true\n\t\t\t\titem.count++\n\t\t\t}\n\t\t})\n\t\tif (!alreadyInCart) {\n\t\t\taddItem()\n\t\t}\n\t} else {\n\t\tcartItems.push({ ...book, count: 1 })\n\t}\n\n\t// cartItems.forEach((item) => {\n\t// \tlet alreadyInCart = false\n\t// \tif (item.id === book.id) {\n\t// \t\talreadyInCart = true\n\t// \t\titem.count++\n\t// \t\tconsole.log('1' + cartItems)\n\t// \t} else if (!alreadyInCart) {\n\t// \t\tcartItems.push({ ...book, count: 1 })\n\t// \t\tconsole.log(cartItems)\n\t// \t}\n\t// })\n\tcartItems.push({ ...book, count: 1 })\n\tconsole.log(cartItems)\n\treturn {\n\t\ttype: ADD_TO_CART,\n\t\tpayload: cartItems\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}