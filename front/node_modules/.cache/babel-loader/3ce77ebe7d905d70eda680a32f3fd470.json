{"ast":null,"code":"import _objectSpread from\"/home/mgapinska/Dokumenty/books-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import axios from'axios';import{FETCH_DATA_FAILURE,FETCH_DATA_REQUEST,FETCH_DATA_SUCCESS}from'./dataTypes';export var fetchDataRequest=function fetchDataRequest(){return{type:FETCH_DATA_REQUEST};};export var fetchDataSuccess=function fetchDataSuccess(data){return{type:FETCH_DATA_SUCCESS,payload:data};};export var fetchDataFailure=function fetchDataFailure(error){return{type:FETCH_DATA_FAILURE,payload:error};};var initialState={loading:false,data:{},error:''};var dataReducer=function dataReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case FETCH_DATA_REQUEST:return _objectSpread(_objectSpread({},state),{},{loading:true});case FETCH_DATA_SUCCESS:return _objectSpread(_objectSpread({},state),{},{loading:false,data:action.payload,error:''});case FETCH_DATA_FAILURE:return _objectSpread(_objectSpread({},state),{},{loading:false,data:{},error:action.payload});default:return state;}};export var fetchData=function fetchData(){return function(dispatch){dispatch(fetchDataRequest);axios.get('http://localhost:3001/api/book').then(function(response){var data=response.data;dispatch(fetchDataSuccess(data));}).catch(function(error){var errorMsg=error.message;dispatch(fetchDataFailure(errorMsg));});};};export default dataReducer;","map":{"version":3,"sources":["/home/mgapinska/Dokumenty/books-shop-app/src/redux/server/data.js"],"names":["axios","FETCH_DATA_FAILURE","FETCH_DATA_REQUEST","FETCH_DATA_SUCCESS","fetchDataRequest","type","fetchDataSuccess","data","payload","fetchDataFailure","error","initialState","loading","dataReducer","state","action","fetchData","dispatch","get","then","response","catch","errorMsg","message"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,CAA6BC,kBAA7B,CAAiDC,kBAAjD,KAA2E,aAA3E,CAEA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CACrC,MAAO,CACNC,IAAI,CAAEH,kBADA,CAAP,CAGA,CAJM,CAMP,MAAO,IAAMI,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,IAAD,CAAU,CACzC,MAAO,CACNF,IAAI,CAAEF,kBADA,CAENK,OAAO,CAAED,IAFH,CAAP,CAIA,CALM,CAOP,MAAO,IAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAC1C,MAAO,CACNL,IAAI,CAAEJ,kBADA,CAENO,OAAO,CAAEE,KAFH,CAAP,CAIA,CALM,CAOP,GAAMC,CAAAA,YAAY,CAAG,CACpBC,OAAO,CAAE,KADW,CAEpBL,IAAI,CAAE,EAFc,CAGpBG,KAAK,CAAE,EAHa,CAArB,CAMA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBH,YAAyB,IAAXI,CAAAA,MAAW,2CACrD,OAAQA,MAAM,CAACV,IAAf,EACC,IAAKH,CAAAA,kBAAL,CACC,sCACIY,KADJ,MAECF,OAAO,CAAE,IAFV,GAID,IAAKT,CAAAA,kBAAL,CACC,sCACIW,KADJ,MAECF,OAAO,CAAE,KAFV,CAGCL,IAAI,CAAEQ,MAAM,CAACP,OAHd,CAICE,KAAK,CAAE,EAJR,GAMD,IAAKT,CAAAA,kBAAL,CACC,sCACIa,KADJ,MAECF,OAAO,CAAE,KAFV,CAGCL,IAAI,CAAE,EAHP,CAICG,KAAK,CAAEK,MAAM,CAACP,OAJf,GAMD,QACC,MAAOM,CAAAA,KAAP,CArBF,CAuBA,CAxBD,CA0BA,MAAO,IAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAC9B,MAAO,UAACC,QAAD,CAAc,CACpBA,QAAQ,CAACb,gBAAD,CAAR,CACAJ,KAAK,CACHkB,GADF,CACM,gCADN,EAEEC,IAFF,CAEO,SAACC,QAAD,CAAc,CACnB,GAAMb,CAAAA,IAAI,CAAGa,QAAQ,CAACb,IAAtB,CACAU,QAAQ,CAACX,gBAAgB,CAACC,IAAD,CAAjB,CAAR,CACA,CALF,EAMEc,KANF,CAMQ,SAACX,KAAD,CAAW,CACjB,GAAMY,CAAAA,QAAQ,CAAGZ,KAAK,CAACa,OAAvB,CACAN,QAAQ,CAACR,gBAAgB,CAACa,QAAD,CAAjB,CAAR,CACA,CATF,EAUA,CAZD,CAaA,CAdM,CAgBP,cAAeT,CAAAA,WAAf","sourcesContent":["import axios from 'axios'\nimport { FETCH_DATA_FAILURE, FETCH_DATA_REQUEST, FETCH_DATA_SUCCESS } from './dataTypes'\n\nexport const fetchDataRequest = () => {\n\treturn {\n\t\ttype: FETCH_DATA_REQUEST\n\t}\n}\n\nexport const fetchDataSuccess = (data) => {\n\treturn {\n\t\ttype: FETCH_DATA_SUCCESS,\n\t\tpayload: data\n\t}\n}\n\nexport const fetchDataFailure = (error) => {\n\treturn {\n\t\ttype: FETCH_DATA_FAILURE,\n\t\tpayload: error\n\t}\n}\n\nconst initialState = {\n\tloading: false,\n\tdata: {},\n\terror: ''\n}\n\nconst dataReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_DATA_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t}\n\t\tcase FETCH_DATA_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\tdata: action.payload,\n\t\t\t\terror: ''\n\t\t\t}\n\t\tcase FETCH_DATA_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\tdata: {},\n\t\t\t\terror: action.payload\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const fetchData = () => {\n\treturn (dispatch) => {\n\t\tdispatch(fetchDataRequest)\n\t\taxios\n\t\t\t.get('http://localhost:3001/api/book')\n\t\t\t.then((response) => {\n\t\t\t\tconst data = response.data\n\t\t\t\tdispatch(fetchDataSuccess(data))\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst errorMsg = error.message\n\t\t\t\tdispatch(fetchDataFailure(errorMsg))\n\t\t\t})\n\t}\n}\n\nexport default dataReducer\n"]},"metadata":{},"sourceType":"module"}