{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_DATA_FAILURE, FETCH_DATA_REQUEST, FETCH_DATA_SUCCESS } from './dataTypes';\nexport const fetchDataRequest = url => {\n  return {\n    type: FETCH_DATA_REQUEST,\n    payload: url\n  };\n};\nexport const fetchDataSuccess = data => {\n  return {\n    type: FETCH_DATA_SUCCESS,\n    payload: data\n  };\n};\nexport const fetchDataFailure = error => {\n  return {\n    type: FETCH_DATA_FAILURE,\n    payload: error\n  };\n};\nconst initialState = {\n  loading: false,\n  data: {},\n  error: ''\n};\n\nconst dataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_DATA_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_DATA_SUCCESS:\n      return { ...state,\n        loading: false,\n        data: action.payload,\n        error: ''\n      };\n\n    case FETCH_DATA_FAILURE:\n      return { ...state,\n        loading: false,\n        data: {},\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const fetchData = (url = 'http://localhost:3001/api/book') => {\n  return dispatch => {\n    dispatch(fetchDataRequest(url));\n    axios.get(url).then(response => {\n      const data = response.data;\n      dispatch(fetchDataSuccess(data));\n    }).catch(error => {\n      const errorMsg = error.message;\n      dispatch(fetchDataFailure(errorMsg));\n    });\n  };\n};\nexport default dataReducer;","map":{"version":3,"sources":["/home/mgapinska/Dokumenty/books-shop-app/src/redux/server/data.js"],"names":["axios","FETCH_DATA_FAILURE","FETCH_DATA_REQUEST","FETCH_DATA_SUCCESS","fetchDataRequest","url","type","payload","fetchDataSuccess","data","fetchDataFailure","error","initialState","loading","dataReducer","state","action","fetchData","dispatch","get","then","response","catch","errorMsg","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,EAAiDC,kBAAjD,QAA2E,aAA3E;AAEA,OAAO,MAAMC,gBAAgB,GAAIC,GAAD,IAAS;AACxC,SAAO;AACNC,IAAAA,IAAI,EAAEJ,kBADA;AAENK,IAAAA,OAAO,EAAEF;AAFH,GAAP;AAIA,CALM;AAOP,OAAO,MAAMG,gBAAgB,GAAIC,IAAD,IAAU;AACzC,SAAO;AACNH,IAAAA,IAAI,EAAEH,kBADA;AAENI,IAAAA,OAAO,EAAEE;AAFH,GAAP;AAIA,CALM;AAOP,OAAO,MAAMC,gBAAgB,GAAIC,KAAD,IAAW;AAC1C,SAAO;AACNL,IAAAA,IAAI,EAAEL,kBADA;AAENM,IAAAA,OAAO,EAAEI;AAFH,GAAP;AAIA,CALM;AAOP,MAAMC,YAAY,GAAG;AACpBC,EAAAA,OAAO,EAAE,KADW;AAEpBJ,EAAAA,IAAI,EAAE,EAFc;AAGpBE,EAAAA,KAAK,EAAE;AAHa,CAArB;;AAMA,MAAMG,WAAW,GAAG,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AACrD,UAAQA,MAAM,CAACV,IAAf;AACC,SAAKJ,kBAAL;AACC,aAAO,EACN,GAAGa,KADG;AAENF,QAAAA,OAAO,EAAE;AAFH,OAAP;;AAID,SAAKV,kBAAL;AACC,aAAO,EACN,GAAGY,KADG;AAENF,QAAAA,OAAO,EAAE,KAFH;AAGNJ,QAAAA,IAAI,EAAEO,MAAM,CAACT,OAHP;AAINI,QAAAA,KAAK,EAAE;AAJD,OAAP;;AAMD,SAAKV,kBAAL;AACC,aAAO,EACN,GAAGc,KADG;AAENF,QAAAA,OAAO,EAAE,KAFH;AAGNJ,QAAAA,IAAI,EAAE,EAHA;AAINE,QAAAA,KAAK,EAAEK,MAAM,CAACT;AAJR,OAAP;;AAMD;AACC,aAAOQ,KAAP;AArBF;AAuBA,CAxBD;;AA0BA,OAAO,MAAME,SAAS,GAAG,CAACZ,GAAG,GAAG,gCAAP,KAA4C;AACpE,SAAQa,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAACd,gBAAgB,CAACC,GAAD,CAAjB,CAAR;AACAL,IAAAA,KAAK,CACHmB,GADF,CACMd,GADN,EAEEe,IAFF,CAEQC,QAAD,IAAc;AACnB,YAAMZ,IAAI,GAAGY,QAAQ,CAACZ,IAAtB;AACAS,MAAAA,QAAQ,CAACV,gBAAgB,CAACC,IAAD,CAAjB,CAAR;AACA,KALF,EAMEa,KANF,CAMSX,KAAD,IAAW;AACjB,YAAMY,QAAQ,GAAGZ,KAAK,CAACa,OAAvB;AACAN,MAAAA,QAAQ,CAACR,gBAAgB,CAACa,QAAD,CAAjB,CAAR;AACA,KATF;AAUA,GAZD;AAaA,CAdM;AAgBP,eAAeT,WAAf","sourcesContent":["import axios from 'axios'\nimport { FETCH_DATA_FAILURE, FETCH_DATA_REQUEST, FETCH_DATA_SUCCESS } from './dataTypes'\n\nexport const fetchDataRequest = (url) => {\n\treturn {\n\t\ttype: FETCH_DATA_REQUEST,\n\t\tpayload: url\n\t}\n}\n\nexport const fetchDataSuccess = (data) => {\n\treturn {\n\t\ttype: FETCH_DATA_SUCCESS,\n\t\tpayload: data\n\t}\n}\n\nexport const fetchDataFailure = (error) => {\n\treturn {\n\t\ttype: FETCH_DATA_FAILURE,\n\t\tpayload: error\n\t}\n}\n\nconst initialState = {\n\tloading: false,\n\tdata: {},\n\terror: ''\n}\n\nconst dataReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_DATA_REQUEST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true\n\t\t\t}\n\t\tcase FETCH_DATA_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\tdata: action.payload,\n\t\t\t\terror: ''\n\t\t\t}\n\t\tcase FETCH_DATA_FAILURE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t\tdata: {},\n\t\t\t\terror: action.payload\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const fetchData = (url = 'http://localhost:3001/api/book') => {\n\treturn (dispatch) => {\n\t\tdispatch(fetchDataRequest(url))\n\t\taxios\n\t\t\t.get(url)\n\t\t\t.then((response) => {\n\t\t\t\tconst data = response.data\n\t\t\t\tdispatch(fetchDataSuccess(data))\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst errorMsg = error.message\n\t\t\t\tdispatch(fetchDataFailure(errorMsg))\n\t\t\t})\n\t}\n}\n\nexport default dataReducer\n"]},"metadata":{},"sourceType":"module"}