{"ast":null,"code":"import _objectSpread from\"/home/mgapinska/Dokumenty/books-shop-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var ADD_TO_CART='ADD_TO_CART';export var REMOVE_FROM_CART='REMOVE_FROM_CART';export var addToCart=function addToCart(product){return function(dispatch,getState){var cartItems=getState().cart.cartItems;cartItems.forEach(function(item){var alreadyInCart=false;if(item._id===product._id){alreadyInCart=true;item.count++;}if(!alreadyInCart){cartItems.push(_objectSpread(_objectSpread({},product),{},{count:1}));}});dispatch({type:ADD_TO_CART,payload:{cartItems:cartItems}});localStorage.setItem('cartItems',JSON.stringify(cartItems));};};export var removeFromCart=function removeFromCart(product){return function(dispatch,getState){var cartItems=getState().cart.cartItems.slice().filter(function(item){return item._id!==product._id;});dispatch({type:REMOVE_FROM_CART,payload:{cartItems:cartItems}});localStorage.setItem('cartItems',JSON.stringify(cartItems));};};","map":{"version":3,"sources":["/home/mgapinska/Dokumenty/books-shop-app/src/redux/cart/cart.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","product","dispatch","getState","cartItems","cart","forEach","item","alreadyInCart","_id","count","push","type","payload","localStorage","setItem","JSON","stringify","removeFromCart","slice","filter"],"mappings":"8JAAA,MAAO,IAAMA,CAAAA,WAAW,CAAG,aAApB,CACP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEP,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,OAAD,QAAa,UAACC,QAAD,CAAWC,QAAX,CAAwB,CAC7D,GAAMC,CAAAA,SAAS,CAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAlC,CACAA,SAAS,CAACE,OAAV,CAAkB,SAACC,IAAD,CAAU,CAC3B,GAAIC,CAAAA,aAAa,CAAG,KAApB,CACA,GAAID,IAAI,CAACE,GAAL,GAAaR,OAAO,CAACQ,GAAzB,CAA8B,CAC7BD,aAAa,CAAG,IAAhB,CACAD,IAAI,CAACG,KAAL,GACA,CAED,GAAI,CAACF,aAAL,CAAoB,CACnBJ,SAAS,CAACO,IAAV,gCAAoBV,OAApB,MAA6BS,KAAK,CAAE,CAApC,IACA,CACD,CAVD,EAWAR,QAAQ,CAAC,CACRU,IAAI,CAAEd,WADE,CAERe,OAAO,CAAE,CACRT,SAAS,CAATA,SADQ,CAFD,CAAD,CAAR,CAMAU,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAeb,SAAf,CAAlC,EACA,CApBwB,EAAlB,CAsBP,MAAO,IAAMc,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACjB,OAAD,QAAa,UAACC,QAAD,CAAWC,QAAX,CAAwB,CAClE,GAAMC,CAAAA,SAAS,CAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAhB,CAA0Be,KAA1B,GAAkCC,MAAlC,CAAyC,SAACb,IAAD,QAAUA,CAAAA,IAAI,CAACE,GAAL,GAAaR,OAAO,CAACQ,GAA/B,EAAzC,CAAlB,CACAP,QAAQ,CAAC,CACRU,IAAI,CAAEb,gBADE,CAERc,OAAO,CAAE,CACRT,SAAS,CAATA,SADQ,CAFD,CAAD,CAAR,CAMAU,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAeb,SAAf,CAAlC,EACA,CAT6B,EAAvB","sourcesContent":["export const ADD_TO_CART = 'ADD_TO_CART'\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART'\n\nexport const addToCart = (product) => (dispatch, getState) => {\n\tconst cartItems = getState().cart.cartItems\n\tcartItems.forEach((item) => {\n\t\tlet alreadyInCart = false\n\t\tif (item._id === product._id) {\n\t\t\talreadyInCart = true\n\t\t\titem.count++\n\t\t}\n\n\t\tif (!alreadyInCart) {\n\t\t\tcartItems.push({ ...product, count: 1 })\n\t\t}\n\t})\n\tdispatch({\n\t\ttype: ADD_TO_CART,\n\t\tpayload: {\n\t\t\tcartItems\n\t\t}\n\t})\n\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems))\n}\n\nexport const removeFromCart = (product) => (dispatch, getState) => {\n\tconst cartItems = getState().cart.cartItems.slice().filter((item) => item._id !== product._id)\n\tdispatch({\n\t\ttype: REMOVE_FROM_CART,\n\t\tpayload: {\n\t\t\tcartItems\n\t\t}\n\t})\n\tlocalStorage.setItem('cartItems', JSON.stringify(cartItems))\n}\n"]},"metadata":{},"sourceType":"module"}